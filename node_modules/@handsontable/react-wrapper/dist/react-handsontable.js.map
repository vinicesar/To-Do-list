{"version":3,"file":"react-handsontable.js","sources":["../src/helpers.tsx","../src/settingsMapper.ts","../src/hotTableContext.tsx","../src/hotColumnContext.tsx","../src/hotEditor.tsx","../src/hotColumn.tsx","../src/renderersPortalManager.tsx","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/lib/ReactPropTypesSecret.js","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/factoryWithThrowingShims.js","../../../node_modules/.pnpm/prop-types@15.8.1/node_modules/prop-types/index.js","../src/hotTableInner.tsx","../src/hotTable.tsx"],"sourcesContent":["import React, {\n  ComponentType,\n  CSSProperties,\n  DependencyList,\n  EffectCallback,\n  ReactNode,\n  ReactPortal,\n  useEffect,\n} from 'react';\nimport ReactDOM from 'react-dom';\nimport { HotTableProps } from './types';\n\nlet bulkComponentContainer: DocumentFragment | null = null;\n\n/**\n * Warning message for the `autoRowSize`/`autoColumnSize` compatibility check.\n */\nexport const AUTOSIZE_WARNING = 'Your `HotTable` configuration includes `autoRowSize`/`autoColumnSize` options, which are not compatible with ' +\n  ' the component-based renderers`. Disable `autoRowSize` and `autoColumnSize` to prevent row and column misalignment.';\n\n/**\n * Warning message for the `hot-renderer` obsolete renderer passing method.\n */\nexport const OBSOLETE_HOTRENDERER_WARNING = 'Providing a component-based renderer using `hot-renderer`-annotated component is no longer supported. ' +\n  'Pass your component using `renderer` prop of the `HotTable` or `HotColumn` component instead.';\n\n/**\n * Warning message for the `hot-editor` obsolete editor passing method.\n */\nexport const OBSOLETE_HOTEDITOR_WARNING = 'Providing a component-based editor using `hot-editor`-annotated component is no longer supported. ' +\n  'Pass your component using `editor` prop of the `HotTable` or `HotColumn` component instead.';\n\n/**\n * Warning message for the unexpected children of HotTable component.\n */\nexport const UNEXPECTED_HOTTABLE_CHILDREN_WARNING = 'Unexpected children nodes found in HotTable component. ' +\n    'Only HotColumn components are allowed.';\n\n/**\n * Warning message for the unexpected children of HotColumn component.\n */\nexport const UNEXPECTED_HOTCOLUMN_CHILDREN_WARNING = 'Unexpected children nodes found in HotColumn component. ' +\n    'HotColumn components do not support any children.';\n\n/**\n * Message for the warning thrown if the Handsontable instance has been destroyed.\n */\nexport const HOT_DESTROYED_WARNING = 'The Handsontable instance bound to this component was destroyed and cannot be' +\n  ' used properly.';\n\n/**\n * Default classname given to the wrapper container.\n */\nexport const DEFAULT_CLASSNAME = 'hot-wrapper-editor-container';\n\n/**\n * Logs warn to the console if the `console` object is exposed.\n *\n * @param {...*} args Values which will be logged.\n */\nexport function warn(...args: any[]) {\n  if (typeof console !== 'undefined') {\n    console.warn(...args);\n  }\n}\n\n/**\n * Detect if `hot-renderer` or `hot-editor` is defined, and if so, throw an incompatibility warning.\n *\n * @returns {boolean} 'true' if the warning was issued\n */\nexport function displayObsoleteRenderersEditorsWarning(children: ReactNode): boolean {\n  if (hasChildElementOfType(children, 'hot-renderer')) {\n    warn(OBSOLETE_HOTRENDERER_WARNING);\n    return true;\n  }\n  if (hasChildElementOfType(children, 'hot-editor')) {\n    warn(OBSOLETE_HOTEDITOR_WARNING);\n    return true;\n  }\n\n  return false\n}\n\n/**\n * Detect if children of specified type are defined, and if so, throw an incompatibility warning.\n *\n * @param {ReactNode} children Component children nodes\n * @param {ComponentType} Component Component type to check\n * @returns {boolean} 'true' if the warning was issued\n */\nexport function displayChildrenOfTypeWarning(children: ReactNode, Component: ComponentType): boolean {\n  const childrenArray: ReactNode[] = React.Children.toArray(children);\n\n  if (childrenArray.some((child) => (child as React.ReactElement).type !== Component)) {\n    warn(UNEXPECTED_HOTTABLE_CHILDREN_WARNING);\n    return true;\n  }\n\n  return false\n}\n\n/**\n * Detect if children is defined, and if so, throw an incompatibility warning.\n *\n * @param {ReactNode} children Component children nodes\n * @returns {boolean} 'true' if the warning was issued\n */\nexport function displayAnyChildrenWarning(children: ReactNode): boolean {\n  const childrenArray: ReactNode[] = React.Children.toArray(children);\n\n  if (childrenArray.length) {\n    warn(UNEXPECTED_HOTCOLUMN_CHILDREN_WARNING);\n    return true;\n  }\n\n  return false\n}\n\n/**\n * Check the existence of elements of the provided `type` from the `HotColumn` component's children.\n *\n * @param {ReactNode} children HotTable children array.\n * @param {String} type Either `'hot-renderer'` or `'hot-editor'`.\n * @returns {boolean} `true` if the child of that type was found, `false` otherwise.\n */\nfunction hasChildElementOfType(children: ReactNode, type: 'hot-renderer' | 'hot-editor'): boolean {\n  const childrenArray: ReactNode[] = React.Children.toArray(children);\n\n  return childrenArray.some((child) => {\n      return (child as React.ReactElement).props[type] !== void 0;\n  });\n}\n\n/**\n * Create an editor portal.\n *\n * @param {Document} doc Document to be used.\n * @param {ComponentType} Editor Editor component or render function.\n * @returns {ReactPortal} The portal for the editor.\n */\nexport function createEditorPortal(doc: Document | null, Editor: HotTableProps['editor'] | undefined | boolean): ReactPortal | null {\n  if (!doc || !Editor || typeof Editor === 'boolean') {\n    return null;\n  }\n\n  const editorElement = <Editor />;\n  const containerProps = getContainerAttributesProps({}, false);\n\n  containerProps.className = `${DEFAULT_CLASSNAME} ${containerProps.className}`;\n\n  return ReactDOM.createPortal(\n    <div {...containerProps}>\n      {editorElement}\n    </div>\n    , doc.body);\n}\n\n/**\n * Render a cell component to an external DOM node.\n *\n * @param {React.ReactElement} rElement React element to be used as a base for the component.\n * @param {Document} [ownerDocument] The owner document to set the portal up into.\n * @param {String} portalKey The key to be used for the portal.\n * @param {HTMLElement} [cachedContainer] The cached container to be used for the portal.\n * @returns {{portal: ReactPortal, portalContainer: HTMLElement}} An object containing the portal and its container.\n */\nexport function createPortal(rElement: React.ReactElement, ownerDocument: Document | null = document, portalKey: string, cachedContainer?: HTMLElement): {\n  portal: ReactPortal,\n  portalContainer: HTMLElement,\n} {\n  if (!ownerDocument) {\n    ownerDocument = document;\n  }\n\n  if (!bulkComponentContainer) {\n    bulkComponentContainer = ownerDocument.createDocumentFragment();\n  }\n\n  const portalContainer = cachedContainer ?? ownerDocument.createElement('DIV');\n  bulkComponentContainer.appendChild(portalContainer);\n\n  return {\n    portal: ReactDOM.createPortal(rElement, portalContainer, portalKey),\n    portalContainer\n  };\n}\n\n/**\n * Get an object containing the `id`, `className` and `style` keys, representing the corresponding props passed to the\n * component.\n *\n * @param {HotTableProps} props Object containing the React element props.\n * @param {Boolean} randomizeId If set to `true`, the function will randomize the `id` property when no `id` was present in the `prop` object.\n * @returns An object containing the `id`, `className` and `style` keys, representing the corresponding props passed to the\n * component.\n */\nexport function getContainerAttributesProps(props: HotTableProps, randomizeId: boolean = true): {id?: string, className: string, style: CSSProperties} {\n  return {\n    id: props.id || (randomizeId ? 'hot-' + Math.random().toString(36).substring(5) : undefined),\n    className: props.className || '',\n    style: props.style || {},\n  };\n}\n\n/**\n * Checks if the environment that the code runs in is a browser.\n *\n * @returns {boolean}\n */\nexport function isCSR(): boolean {\n  return typeof window !== 'undefined';\n}\n\n/**\n * A variant of useEffect hook that does not trigger on initial mount, only updates\n *\n * @param effect Effect function\n * @param deps Effect dependencies\n */\nexport function useUpdateEffect(effect: EffectCallback, deps?: DependencyList): void {\n  const notInitialRender = React.useRef(false);\n\n  useEffect(() => {\n    if (notInitialRender.current) {\n      return effect();\n    } else {\n      notInitialRender.current = true;\n    }\n  }, deps);\n}\n","import Handsontable from 'handsontable/base';\nimport { HotTableProps } from './types';\n\nexport class SettingsMapper {\n  /**\n   * Parse component settings into Handsontable-compatible settings.\n   *\n   * @param {Object} properties Object containing properties from the HotTable object.\n   * @param {Object} additionalSettings Additional settings.\n   * @param {boolean} additionalSettings.isInit Flag determining whether the settings are being set during initialization.\n   * @param {string[]} additionalSettings.initOnlySettingKeys Array of keys that can be set only during initialization.\n   * @returns {Object} Handsontable-compatible settings object.\n   */\n  static getSettings(\n    properties: HotTableProps,\n    {\n      prevProps = {},\n      isInit = false,\n      initOnlySettingKeys = []\n    }: {\n      prevProps?: HotTableProps;\n      isInit?: boolean;\n      initOnlySettingKeys?: Array<keyof Handsontable.GridSettings>\n    } = {}): Handsontable.GridSettings {\n    const shouldSkipProp = (key: keyof Handsontable.GridSettings) => {\n      // Omit settings that can be set only during initialization and are intentionally modified.\n      if (!isInit && initOnlySettingKeys.includes(key)) {\n        return prevProps[key] === properties[key];\n      }\n      return false;\n    };\n    let newSettings: Handsontable.GridSettings = {};\n\n    for (const key in properties) {\n      if (\n        key !== 'children' &&\n        !shouldSkipProp(key as keyof Handsontable.GridSettings) &&\n        properties.hasOwnProperty(key)\n      ) {\n        (newSettings as any)[key] = properties[key as keyof HotTableProps];\n      }\n    }\n\n    return newSettings;\n  }\n}\n","import Handsontable from 'handsontable/base';\nimport React, {\n  ComponentType,\n  FC,\n  PropsWithChildren,\n  ReactPortal,\n  createContext,\n  useCallback,\n  useRef,\n  useMemo,\n  useContext,\n} from 'react';\nimport { ScopeIdentifier, HotRendererProps } from './types'\nimport { createPortal } from './helpers'\nimport { RenderersPortalManagerRef } from './renderersPortalManager'\n\nexport interface HotTableContextImpl {\n  /**\n   * Map with column indexes (or a string = 'global') as keys, and booleans as values. Each key represents a component-based editor\n   * declared for the used column index, or a global one, if the key is the `global` string.\n   */\n  readonly componentRendererColumns: Map<ScopeIdentifier, boolean>;\n\n  /**\n   * Array of object containing the column settings.\n   */\n  readonly columnsSettings: Handsontable.ColumnSettings[];\n\n  /**\n   * Sets the column settings based on information received from HotColumn.\n   *\n   * @param {HotTableProps} columnSettings Column settings object.\n   * @param {Number} columnIndex Column index.\n   */\n  readonly emitColumnSettings: (columnSettings: Handsontable.ColumnSettings, columnIndex: number) => void;\n\n  /**\n   * Return a renderer wrapper function for the provided renderer component.\n   *\n   * @param {ComponentType<HotRendererProps>} Renderer React renderer component.\n   * @returns {Handsontable.renderers.BaseRenderer} The Handsontable rendering function.\n   */\n  readonly getRendererWrapper: (Renderer: ComponentType<HotRendererProps>) => typeof Handsontable.renderers.BaseRenderer;\n\n  /**\n   * Clears portals cache.\n   */\n  readonly clearPortalCache: () => void;\n\n  /**\n   * Clears rendered cells cache.\n   */\n  readonly clearRenderedCellCache: () => void;\n\n  /**\n   * Set the renderers portal manager dispatch function.\n   *\n   * @param {RenderersPortalManagerRef} pm The PortalManager dispatch function.\n   */\n  readonly setRenderersPortalManagerRef: (pm: RenderersPortalManagerRef) => void;\n\n  /**\n   * Puts cell portals into portal manager and purges portals cache.\n   */\n  readonly pushCellPortalsIntoPortalManager: () => void;\n}\n\nconst HotTableContext = createContext<HotTableContextImpl | undefined>(undefined);\n\nconst HotTableContextProvider: FC<PropsWithChildren> = ({ children }) => {\n  const columnsSettings = useRef<Handsontable.ColumnSettings[]>([]);\n\n  const setHotColumnSettings = useCallback((columnSettings: Handsontable.ColumnSettings, columnIndex: number) => {\n    columnsSettings.current[columnIndex] = columnSettings;\n  }, [])\n\n  const componentRendererColumns = useRef<Map<number | 'global', boolean>>(new Map());\n  const renderedCellCache = useRef<Map<string, HTMLTableCellElement>>(new Map());\n  const clearRenderedCellCache = useCallback(() => renderedCellCache.current.clear(), []);\n  const portalCache = useRef<Map<string, ReactPortal>>(new Map());\n  const clearPortalCache = useCallback(() => portalCache.current.clear(), []);\n  const portalContainerCache = useRef<Map<string, HTMLElement>>(new Map());\n\n  const getRendererWrapper = useCallback((Renderer: ComponentType<HotRendererProps>): typeof Handsontable.renderers.BaseRenderer => {\n    return function __internalRenderer(instance, TD, row, col, prop, value, cellProperties) {\n      const key = `${row}-${col}`;\n\n      // Handsontable.Core type is missing guid\n      const instanceGuid = (instance as unknown as { guid: string }).guid;\n\n      const portalContainerKey = `${instanceGuid}-${key}`\n      const portalKey = `${key}-${instanceGuid}`\n\n      if (renderedCellCache.current.has(key)) {\n        TD.innerHTML = renderedCellCache.current.get(key)!.innerHTML;\n      }\n\n      if (TD && !TD.getAttribute('ghost-table')) {\n        const cachedPortal = portalCache.current.get(portalKey);\n        const cachedPortalContainer = portalContainerCache.current.get(portalContainerKey);\n\n        while (TD.firstChild) {\n          TD.removeChild(TD.firstChild);\n        }\n\n        // if portal already exists, do not recreate\n        if (cachedPortal && cachedPortalContainer) {\n          TD.appendChild(cachedPortalContainer);\n        } else {\n          const rendererElement = (\n            <Renderer instance={instance}\n                      TD={TD}\n                      row={row}\n                      col={col}\n                      prop={prop}\n                      value={value}\n                      cellProperties={cellProperties}/>\n          );\n\n          const {portal, portalContainer} = createPortal(rendererElement, TD.ownerDocument, portalKey, cachedPortalContainer);\n\n          portalContainerCache.current.set(portalContainerKey, portalContainer);\n          TD.appendChild(portalContainer);\n\n          portalCache.current.set(portalKey, portal);\n        }\n      }\n\n      renderedCellCache.current.set(`${row}-${col}`, TD);\n      return TD;\n    };\n  }, []);\n\n  const renderersPortalManager = useRef<RenderersPortalManagerRef>(() => undefined);\n\n  const setRenderersPortalManagerRef = useCallback((pmComponent: RenderersPortalManagerRef) => {\n    renderersPortalManager.current = pmComponent;\n  }, []);\n\n  const pushCellPortalsIntoPortalManager = useCallback(() => {\n    renderersPortalManager.current!([...portalCache.current.values()]);\n  }, []);\n\n  const contextImpl: HotTableContextImpl = useMemo(() => ({\n    componentRendererColumns: componentRendererColumns.current,\n    columnsSettings: columnsSettings.current,\n    emitColumnSettings: setHotColumnSettings,\n    getRendererWrapper,\n    clearPortalCache,\n    clearRenderedCellCache,\n    setRenderersPortalManagerRef,\n    pushCellPortalsIntoPortalManager\n  }), [setHotColumnSettings, getRendererWrapper, clearRenderedCellCache, setRenderersPortalManagerRef, pushCellPortalsIntoPortalManager]);\n\n  return (\n    <HotTableContext.Provider value={contextImpl}>{children}</HotTableContext.Provider>\n  );\n};\n\n/**\n * Exposes the table context object to components\n *\n * @returns HotTableContext\n */\nfunction useHotTableContext(): HotTableContextImpl {\n  return useContext(HotTableContext)!;\n}\n\nexport { HotTableContextProvider, useHotTableContext };\n","import React, {\n  FC,\n  PropsWithChildren,\n  createContext,\n  useContext,\n  useMemo,\n} from 'react';\n\nexport interface HotColumnContextImpl {\n  /**\n   * Column index within a HotTable.\n   */\n  readonly columnIndex: number;\n\n  /**\n   * Get the `Document` object corresponding to the main component element.\n   *\n   * @returns The `Document` object used by the component.\n   */\n  readonly getOwnerDocument: () => Document | null;\n}\n\nconst HotColumnContext = createContext<HotColumnContextImpl | undefined>(undefined);\n\nconst HotColumnContextProvider: FC<PropsWithChildren<HotColumnContextImpl>> = ({ columnIndex, getOwnerDocument, children }) => {\n\n  const contextImpl: HotColumnContextImpl = useMemo(() => ({\n    columnIndex,\n    getOwnerDocument\n  }), [columnIndex, getOwnerDocument]);\n\n  return (\n    <HotColumnContext.Provider value={contextImpl}>{children}</HotColumnContext.Provider>\n  );\n};\n\nconst useHotColumnContext = () => useContext(HotColumnContext)!;\n\nexport { useHotColumnContext, HotColumnContextProvider };\n","import React, {\n  DependencyList,\n  FC,\n  MutableRefObject,\n  ReactNode,\n  Ref,\n  RefObject,\n  createContext,\n  useContext,\n  useDeferredValue,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react';\nimport Handsontable from 'handsontable/base';\nimport { HotEditorHooks, UseHotEditorImpl } from './types';\n\ntype HookPropName = keyof Handsontable.editors.BaseEditor | 'constructor';\n\nconst AbstractMethods: (keyof Handsontable.editors.BaseEditor)[] = [\n  'close',\n  'focus',\n  'open',\n];\nconst ExcludedMethods: (keyof Handsontable.editors.BaseEditor)[] = [\n  'getValue',\n  'setValue',\n];\n\nconst MethodsMap: Partial<\n  Record<keyof Handsontable.editors.BaseEditor, keyof HotEditorHooks>\n> = {\n  open: 'onOpen',\n  close: 'onClose',\n  prepare: 'onPrepare',\n  focus: 'onFocus',\n};\n\n/**\n * Create a class to be passed to the Handsontable's settings.\n *\n * @param {RefObject<HotEditorHooks>} hooksRef Reference to component-based editor overridden hooks object.\n * @param {RefObject} instanceRef Reference to Handsontable-native custom editor class instance.\n * @returns {Function} A class to be passed to the Handsontable editor settings.\n */\nexport function makeEditorClass(\n  hooksRef: MutableRefObject<HotEditorHooks | null>,\n  instanceRef: MutableRefObject<Handsontable.editors.BaseEditor | null>\n): typeof Handsontable.editors.BaseEditor {\n  return class CustomEditor\n    extends Handsontable.editors.BaseEditor\n    implements Handsontable.editors.BaseEditor\n  {\n    private value: any;\n\n    constructor(hotInstance: Handsontable.Core) {\n      super(hotInstance);\n      instanceRef.current = this;\n\n      (\n        Object.getOwnPropertyNames(\n          Handsontable.editors.BaseEditor.prototype\n        ) as HookPropName[]\n      ).forEach((propName) => {\n        if (propName === 'constructor' || ExcludedMethods.includes(propName)) {\n          return;\n        }\n\n        const baseMethod = Handsontable.editors.BaseEditor.prototype[propName];\n        (CustomEditor.prototype as any)[propName] = function (\n          this: CustomEditor,\n          ...args: any[]\n        ) {\n          let result;\n\n          if (!AbstractMethods.includes(propName)) {\n            result = baseMethod.call(this, ...args); // call super\n          }\n\n          if (\n            MethodsMap[propName] &&\n            hooksRef.current?.[MethodsMap[propName]!]\n          ) {\n            result = (hooksRef.current[MethodsMap[propName]!] as any).call(\n              this,\n              ...args\n            );\n          }\n\n          return result;\n        }.bind(this);\n      });\n    }\n\n    focus() {}\n\n    getValue() {\n      return this.value;\n    }\n\n    setValue(newValue: any) {\n      this.value = newValue;\n    }\n\n    open() {}\n\n    close() {}\n  };\n}\n\ninterface EditorContextType {\n  hooksRef: Ref<HotEditorHooks>;\n  hotCustomEditorInstanceRef: RefObject<Handsontable.editors.BaseEditor>;\n}\n\n/**\n * Context to provide Handsontable-native custom editor class instance to overridden hooks object.\n */\nconst EditorContext = createContext<EditorContextType | undefined>(\n  undefined\n);\n\ninterface EditorContextProviderProps {\n  hooksRef: Ref<HotEditorHooks>;\n  hotCustomEditorInstanceRef: RefObject<Handsontable.editors.BaseEditor>;\n  children: ReactNode;\n}\n\n/**\n * Provider of the context that exposes Handsontable-native editor instance and passes hooks object\n * for custom editor components.\n *\n * @param {Ref} hooksRef Reference for component-based editor overridden hooks object.\n * @param {RefObject} hotCustomEditorInstanceRef  Reference to Handsontable-native editor instance.\n */\nexport const EditorContextProvider: FC<EditorContextProviderProps> = ({\n  hooksRef,\n  hotCustomEditorInstanceRef,\n  children,\n}) => {\n  return (\n    <EditorContext.Provider value={{ hooksRef, hotCustomEditorInstanceRef }}>\n      {children}\n    </EditorContext.Provider>\n  );\n};\n\n/**\n * Hook that allows encapsulating custom behaviours of component-based editor by customizing passed ref with overridden hooks object.\n *\n * @param {HotEditorHooks} overriddenHooks Overrides specific for the custom editor.\n * @param {DependencyList} deps Overridden hooks object React dependency list.\n * @returns {UseHotEditorImpl} Editor API methods\n */\nexport function useHotEditor<T>(\n  overriddenHooks?: HotEditorHooks,\n  deps?: DependencyList\n): UseHotEditorImpl<T> {\n  const { hooksRef, hotCustomEditorInstanceRef } =\n    useContext(EditorContext)!;\n  const [rerenderTrigger, setRerenderTrigger] = useState(0);\n  const [editorValue, setEditorValue] = useState<T>();\n\n  // return a deferred value that allows for optimizing performance by delaying the update of a value until the next render.\n  const deferredValue = useDeferredValue(editorValue);\n\n  useImperativeHandle(\n    hooksRef,\n    () => ({\n      ...overriddenHooks,\n      onOpen() {\n        setEditorValue(hotCustomEditorInstanceRef.current?.getValue());\n        overriddenHooks?.onOpen?.();\n        setRerenderTrigger((t) => t + 1);\n      },\n    }),\n    deps\n  );\n\n  return useMemo(\n    () => ({\n      get value(): T | undefined {\n        return deferredValue;\n      },\n      setValue(newValue) {\n        setEditorValue(newValue);\n        hotCustomEditorInstanceRef.current?.setValue(newValue);\n      },\n      get isOpen() {\n        return hotCustomEditorInstanceRef.current?.isOpened() ?? false;\n      },\n      finishEditing() {\n        hotCustomEditorInstanceRef.current?.finishEditing();\n      },\n      get row() {\n        return hotCustomEditorInstanceRef.current?.row;\n      },\n      get col() {\n        return hotCustomEditorInstanceRef.current?.col;\n      },\n    }),\n    [rerenderTrigger, hotCustomEditorInstanceRef, deferredValue]\n  );\n}\n","import React, {\n  FC,\n  ReactElement,\n  useEffect,\n  useRef,\n} from 'react';\nimport { HotTableProps, HotColumnProps, HotEditorHooks } from './types';\nimport {\n  createEditorPortal,\n  displayAnyChildrenWarning,\n  displayObsoleteRenderersEditorsWarning\n} from './helpers';\nimport { SettingsMapper } from './settingsMapper';\nimport Handsontable from 'handsontable/base';\nimport { useHotTableContext } from './hotTableContext'\nimport { useHotColumnContext } from './hotColumnContext'\nimport { EditorContextProvider, makeEditorClass } from './hotEditor';\n\nconst isHotColumn = (childNode: any): childNode is ReactElement => childNode.type === HotColumn;\n\nconst internalProps = ['_columnIndex', '_getOwnerDocument', 'children'];\n\nconst HotColumn: FC<HotColumnProps> = (props) => {\n  const { componentRendererColumns, emitColumnSettings, getRendererWrapper } = useHotTableContext();\n  const { columnIndex, getOwnerDocument } = useHotColumnContext();\n\n  /**\n   * Reference to component-based editor overridden hooks object.\n   */\n  const localEditorHooksRef = useRef<HotEditorHooks | null>(null);\n\n  /**\n   * Reference to HOT-native custom editor class instance.\n   */\n  const localEditorClassInstance = useRef<Handsontable.editors.BaseEditor | null>(null);\n\n  /**\n   * Logic performed after mounting & updating of the HotColumn component.\n   */\n  useEffect(() => {\n\n    /**\n     * Filter out all the internal properties and return an object with just the Handsontable-related props.\n     *\n     * @returns {Object}\n     */\n    const getSettingsProps = (): HotTableProps => {\n      return Object.keys(props)\n        .filter(key => !internalProps.includes(key))\n        .reduce<HotTableProps>((obj, key) => {\n          (obj as any)[key] = props[key];\n          return obj;\n        }, {});\n    };\n\n    /**\n     * Create the column settings based on the data provided to the `HotColumn` component and its child components.\n     */\n    const createColumnSettings = (): Handsontable.ColumnSettings => {\n      const columnSettings = SettingsMapper.getSettings(getSettingsProps()) as unknown as Handsontable.ColumnSettings;\n\n      if (props.renderer) {\n        columnSettings.renderer = getRendererWrapper(props.renderer);\n        componentRendererColumns.set(columnIndex, true);\n      } else if (props.hotRenderer) {\n        columnSettings.renderer = props.hotRenderer;\n      }\n\n      if (props.editor) {\n        columnSettings.editor = makeEditorClass(localEditorHooksRef, localEditorClassInstance);\n      } else if (props.hotEditor) {\n        columnSettings.editor = props.hotEditor;\n      }\n\n      return columnSettings\n    };\n\n    const columnSettings = createColumnSettings();\n    emitColumnSettings(columnSettings, columnIndex);\n\n    if (!displayObsoleteRenderersEditorsWarning(props.children)) {\n      displayAnyChildrenWarning(props.children);\n    }\n  });\n\n  const editorPortal = createEditorPortal(getOwnerDocument(), props.editor);\n\n  /**\n   * Render the portals of the editors, if there are any.\n   *\n   * @returns {ReactElement}\n   */\n  return (\n    <EditorContextProvider hooksRef={localEditorHooksRef}\n                           hotCustomEditorInstanceRef={localEditorClassInstance}>\n      {editorPortal}\n    </EditorContextProvider>\n  )\n}\n\nexport { HotColumn, isHotColumn };\n","import React, {\n  Dispatch,\n  ReactPortal,\n  forwardRef,\n  Fragment,\n  useImperativeHandle,\n  useState,\n} from 'react';\n\nexport type RenderersPortalManagerRef = Dispatch<ReactPortal[]>;\n\n/**\n * Component used to manage the renderer component portals.\n */\nexport const RenderersPortalManager = forwardRef<RenderersPortalManagerRef, {}>((_, ref) => {\n  const [portals, setPortals] = useState<ReactPortal[]>([]);\n  useImperativeHandle(ref, () => setPortals);\n\n  return (\n      <Fragment>\n        {portals}\n      </Fragment>\n  );\n});\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, {\n  Children,\n  Fragment,\n  useEffect,\n  useCallback,\n  useImperativeHandle,\n  useRef,\n  forwardRef\n} from 'react';\nimport Handsontable from 'handsontable/base';\nimport { SettingsMapper } from './settingsMapper';\nimport { RenderersPortalManager } from './renderersPortalManager';\nimport { HotColumn, isHotColumn } from './hotColumn';\nimport { HotEditorHooks, HotTableProps, HotTableRef } from './types';\nimport {\n  HOT_DESTROYED_WARNING,\n  AUTOSIZE_WARNING,\n  createEditorPortal,\n  getContainerAttributesProps,\n  isCSR,\n  warn,\n  displayObsoleteRenderersEditorsWarning,\n  useUpdateEffect,\n  displayChildrenOfTypeWarning\n} from './helpers';\nimport PropTypes from 'prop-types';\nimport { getRenderer } from 'handsontable/renderers/registry';\nimport { getEditor } from 'handsontable/editors/registry';\nimport { useHotTableContext } from './hotTableContext'\nimport { HotColumnContextProvider } from './hotColumnContext'\nimport { EditorContextProvider, makeEditorClass } from './hotEditor';\n\nconst HotTableInner = forwardRef<\n  HotTableRef,\n  HotTableProps\n>((props, ref) => {\n\n  /**\n   * Reference to the Handsontable instance.\n   */\n  const __hotInstance = useRef<Handsontable | null>(null);\n\n  /**\n   * Reference to the main Handsontable DOM element.\n   */\n  const hotElementRef = useRef<HTMLDivElement>(null);\n\n  /**\n   * Reference to component-based editor overridden hooks object.\n   */\n  const globalEditorHooksRef = useRef<HotEditorHooks | null>(null);\n\n  /**\n   * Reference to HOT-native custom editor class instance.\n   */\n  const globalEditorClassInstance = useRef<Handsontable.editors.BaseEditor | null>(null);\n\n  /**\n   * Reference to the previous props object.\n   */\n  const prevProps = useRef<HotTableProps>();\n\n  /**\n   * HotTable context exposing helper functions.\n   */\n  const context = useHotTableContext();\n\n  /**\n   * Getter for the property storing the Handsontable instance.\n   */\n  const getHotInstance = useCallback((): Handsontable | null => {\n    if (!__hotInstance.current || !__hotInstance.current.isDestroyed) {\n\n      // Will return the Handsontable instance or `null` if it's not yet been created.\n      return __hotInstance.current;\n\n    } else {\n      console.warn(HOT_DESTROYED_WARNING);\n\n      return null;\n    }\n  }, [__hotInstance]);\n\n  const isHotInstanceDestroyed = useCallback((): boolean => {\n    return !__hotInstance.current || __hotInstance.current.isDestroyed;\n  }, [__hotInstance]);\n\n  /**\n   * Clear both the editor and the renderer cache.\n   */\n  const clearCache = useCallback((): void => {\n    context.clearRenderedCellCache();\n    context.componentRendererColumns.clear();\n  }, [context]);\n\n  /**\n   * Get the `Document` object corresponding to the main component element.\n   *\n   * @returns The `Document` object used by the component.\n   */\n  const getOwnerDocument = useCallback((): Document | null => {\n    if (isCSR()) {\n      return hotElementRef.current ? hotElementRef.current.ownerDocument : document;\n    }\n\n    return null;\n  }, [hotElementRef]);\n\n  /**\n   * Create a new settings object containing the column settings and global editors and renderers.\n   *\n   * @returns {Handsontable.GridSettings} New global set of settings for Handsontable.\n   */\n  const createNewGlobalSettings = (init: boolean = false, prevProps: HotTableProps = {}): Handsontable.GridSettings => {\n    const initOnlySettingKeys = !isHotInstanceDestroyed() ? // Needed for React's double-rendering.\n      ((getHotInstance()?.getSettings() as any)?._initOnlySettings || []) :\n      [];\n    const newSettings = SettingsMapper.getSettings(\n      props, {\n        prevProps,\n        isInit: init,\n        initOnlySettingKeys\n      }\n    );\n\n    newSettings.columns = context.columnsSettings.length ? context.columnsSettings : newSettings.columns;\n\n    if (props.renderer) {\n      newSettings.renderer = context.getRendererWrapper(props.renderer);\n      context.componentRendererColumns.set('global', true);\n    } else {\n      newSettings.renderer = props.hotRenderer || getRenderer('text');\n    }\n\n    if (props.editor) {\n      newSettings.editor = makeEditorClass(globalEditorHooksRef, globalEditorClassInstance);\n    } else {\n      newSettings.editor = props.hotEditor || getEditor('text');\n    }\n\n    return newSettings;\n  };\n\n  /**\n   * Detect if `autoRowSize` or `autoColumnSize` is defined, and if so, throw an incompatibility warning.\n   */\n  const displayAutoSizeWarning = (hotInstance: Handsontable | null): void => {\n    if (\n      hotInstance &&\n      (\n        hotInstance.getPlugin('autoRowSize')?.enabled ||\n        hotInstance.getPlugin('autoColumnSize')?.enabled\n      )\n    ) {\n      if (context.componentRendererColumns.size > 0) {\n        warn(AUTOSIZE_WARNING);\n      }\n    }\n  };\n\n  /**\n   * Initialize Handsontable after the component has mounted.\n   */\n  useEffect(() => {\n    const newGlobalSettings = createNewGlobalSettings(true);\n\n    // Update prevProps with the current props\n    prevProps.current = props;\n\n    __hotInstance.current = new Handsontable.Core(hotElementRef.current!, newGlobalSettings);\n\n    /**\n     * Handsontable's `beforeViewRender` hook callback.\n     */\n    __hotInstance.current.addHook('beforeViewRender', () => {\n      context.clearPortalCache();\n      context.clearRenderedCellCache();\n    });\n\n    /**\n     * Handsontable's `afterViewRender` hook callback.\n     */\n    __hotInstance.current.addHook('afterViewRender', () => {\n      context.pushCellPortalsIntoPortalManager();\n    });\n\n    __hotInstance.current.init();\n\n    displayAutoSizeWarning(__hotInstance.current);\n\n    if (!displayObsoleteRenderersEditorsWarning(props.children)) {\n      displayChildrenOfTypeWarning(props.children, HotColumn);\n    }\n\n    /**\n     * Destroy the Handsontable instance when the parent component unmounts.\n     */\n    return () => {\n      clearCache();\n      getHotInstance()?.destroy();\n    }\n  }, []);\n\n  /**\n   * Logic performed after the component update.\n   */\n  useUpdateEffect((): void => {\n    clearCache();\n\n    const hotInstance = getHotInstance();\n\n    const newGlobalSettings = createNewGlobalSettings(false, prevProps.current);\n\n    // Update prevProps with the current props\n    prevProps.current = props;\n\n    hotInstance?.updateSettings(newGlobalSettings, false);\n\n    displayAutoSizeWarning(hotInstance);\n    displayObsoleteRenderersEditorsWarning(props.children);\n  });\n\n  /**\n   * Interface exposed to parent components by HotTable instance via React ref\n   */\n  useImperativeHandle(ref, () => ({\n    get hotElementRef() {\n      return hotElementRef.current!;\n    },\n    get hotInstance() {\n      return getHotInstance();\n    }\n  }));\n\n  /**\n   * Render the component.\n   */\n  const hotColumnWrapped = Children.toArray(props.children)\n    .filter(isHotColumn)\n    .map((childNode, columnIndex) => (\n      <HotColumnContextProvider columnIndex={columnIndex}\n                                getOwnerDocument={getOwnerDocument}\n                                key={columnIndex}>\n        {childNode}\n      </HotColumnContextProvider>\n    ));\n\n  const containerProps = getContainerAttributesProps(props);\n  const editorPortal = createEditorPortal(getOwnerDocument(), props.editor);\n\n  return (\n    <Fragment>\n      <div ref={hotElementRef} {...containerProps}>\n        {hotColumnWrapped}\n      </div>\n      <RenderersPortalManager ref={context.setRenderersPortalManagerRef} />\n      <EditorContextProvider hooksRef={globalEditorHooksRef}\n                             hotCustomEditorInstanceRef={globalEditorClassInstance}>\n        {editorPortal}\n      </EditorContextProvider>\n    </Fragment>\n  );\n});\n\n/**\n * Prop types to be checked at runtime.\n */\nHotTableInner.propTypes = {\n  style: PropTypes.object,\n  id: PropTypes.string,\n  className: PropTypes.string\n};\n\nexport default HotTableInner;\nexport { HotTableInner };\n","import React, {\n  ForwardRefExoticComponent,\n  RefAttributes,\n  useId,\n  forwardRef,\n} from 'react';\nimport * as packageJson from '../package.json';\nimport { HotTableInner } from './hotTableInner';\nimport { HotTableProps, HotTableRef } from './types';\nimport { HotTableContextProvider } from './hotTableContext';\n\ninterface Version {\n  version?: string;\n}\n\ntype HotTable = ForwardRefExoticComponent<HotTableProps & RefAttributes<HotTableRef>> & Version;\n\n/**\n * A Handsontable-ReactJS wrapper.\n *\n * To implement, use the `HotTable` tag with properties corresponding to Handsontable options.\n * For example:\n *\n * ```js\n * <HotTable id=\"hot\" data={dataObject} contextMenu={true} colHeaders={true} width={600} height={300} stretchH=\"all\" />\n *\n * // is analogous to\n * let hot = new Handsontable(document.getElementById('hot'), {\n *    data: dataObject,\n *    contextMenu: true,\n *    colHeaders: true,\n *    width: 600\n *    height: 300\n * });\n *\n * ```\n */\nconst HotTable: HotTable = forwardRef<HotTableRef, HotTableProps>(({ children, ...props }, ref) => {\n  const componentId = props.id ?? useId();\n\n  return (\n    <HotTableContextProvider>\n      <HotTableInner id={componentId} {...props} ref={ref}>\n        {children}\n      </HotTableInner>\n    </HotTableContextProvider>\n  );\n})\n\n/**\n * Package version.\n *\n * @returns The version number of the package.\n */\nHotTable.version = (packageJson as any).version;\n\nexport default HotTable;\nexport { HotTable };\n"],"names":["bulkComponentContainer","AUTOSIZE_WARNING","OBSOLETE_HOTRENDERER_WARNING","OBSOLETE_HOTEDITOR_WARNING","UNEXPECTED_HOTTABLE_CHILDREN_WARNING","UNEXPECTED_HOTCOLUMN_CHILDREN_WARNING","HOT_DESTROYED_WARNING","DEFAULT_CLASSNAME","warn","console","_console","apply","arguments","displayObsoleteRenderersEditorsWarning","children","hasChildElementOfType","displayChildrenOfTypeWarning","Component","childrenArray","React","Children","toArray","some","child","type","displayAnyChildrenWarning","length","props","createEditorPortal","doc","Editor","editorElement","createElement","containerProps","getContainerAttributesProps","className","concat","ReactDOM","createPortal","body","rElement","ownerDocument","document","portalKey","undefined","cachedContainer","createDocumentFragment","portalContainer","appendChild","portal","randomizeId","id","Math","random","toString","substring","style","isCSR","window","useUpdateEffect","effect","deps","notInitialRender","useRef","useEffect","current","SettingsMapper","_classCallCheck","_createClass","key","value","getSettings","properties","_ref","_ref$prevProps","prevProps","_ref$isInit","isInit","_ref$initOnlySettingK","initOnlySettingKeys","shouldSkipProp","includes","newSettings","hasOwnProperty","HotTableContext","createContext","HotTableContextProvider","columnsSettings","setHotColumnSettings","useCallback","columnSettings","columnIndex","componentRendererColumns","Map","renderedCellCache","clearRenderedCellCache","clear","portalCache","clearPortalCache","portalContainerCache","getRendererWrapper","Renderer","__internalRenderer","instance","TD","row","col","prop","cellProperties","instanceGuid","guid","portalContainerKey","has","innerHTML","get","getAttribute","cachedPortal","cachedPortalContainer","firstChild","removeChild","rendererElement","_createPortal","set","renderersPortalManager","setRenderersPortalManagerRef","pmComponent","pushCellPortalsIntoPortalManager","_toConsumableArray","values","contextImpl","useMemo","emitColumnSettings","Provider","useHotTableContext","useContext","HotColumnContext","HotColumnContextProvider","getOwnerDocument","useHotColumnContext","AbstractMethods","ExcludedMethods","MethodsMap","open","close","prepare","focus","makeEditorClass","hooksRef","instanceRef","_Handsontable$editors","CustomEditor","hotInstance","_this","_callSuper","Object","getOwnPropertyNames","Handsontable","editors","BaseEditor","prototype","forEach","propName","baseMethod","_hooksRef$current","result","_len","args","Array","_key","call","_hooksRef$current$Met","bind","_inherits","getValue","setValue","newValue","EditorContext","EditorContextProvider","hotCustomEditorInstanceRef","useHotEditor","overriddenHooks","_useContext","_useState","useState","_useState2","_slicedToArray","rerenderTrigger","setRerenderTrigger","_useState3","_useState4","editorValue","setEditorValue","deferredValue","useDeferredValue","useImperativeHandle","_objectSpread","onOpen","_hotCustomEditorInsta","_overriddenHooks$onOp","t","_hotCustomEditorInsta2","isOpen","_hotCustomEditorInsta3","_hotCustomEditorInsta4","isOpened","finishEditing","_hotCustomEditorInsta5","_hotCustomEditorInsta6","_hotCustomEditorInsta7","isHotColumn","childNode","HotColumn","internalProps","_useHotTableContext","_useHotColumnContext","localEditorHooksRef","localEditorClassInstance","getSettingsProps","keys","filter","reduce","obj","createColumnSettings","renderer","hotRenderer","editor","hotEditor","editorPortal","RenderersPortalManager","forwardRef","_","ref","portals","setPortals","Fragment","ReactPropTypesSecret","ReactPropTypesSecret_1","require$$0","emptyFunction","emptyFunctionWithReset","resetWarningCache","factoryWithThrowingShims","shim","componentName","location","propFullName","secret","err","Error","name","isRequired","getShim","ReactPropTypes","array","bigint","bool","func","number","object","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","propTypesModule","exports","require$$2","HotTableInner","__hotInstance","hotElementRef","globalEditorHooksRef","globalEditorClassInstance","context","getHotInstance","isDestroyed","isHotInstanceDestroyed","clearCache","createNewGlobalSettings","_getHotInstance","init","_initOnlySettings","columns","getRenderer","getEditor","displayAutoSizeWarning","_hotInstance$getPlugi","_hotInstance$getPlugi2","getPlugin","enabled","size","newGlobalSettings","Core","addHook","_getHotInstance2","destroy","updateSettings","hotColumnWrapped","map","assign","propTypes","HotTable","_props$id","_objectWithoutProperties","_excluded","componentId","useId","version","packageJson"],"mappings":"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","x_google_ignoreList":[7,8,9]}